@import (reference) '../variables.less';

// Overriding variables.less
@color--primary: #c33;
@background-color-primary: rgba(204, 51, 51, 0.25); // @color--primary with 25% opacity
@background-color-primary--darkest: rgba(204, 51, 51, 0.75); // @color--primary with 75% opacity
@background-color-primary--darker: rgba(204, 51, 51, 0.5); // @color--primary with 50% opacity
@background-color-primary--light: rgba(204, 51, 51, 0.1); // @color--primary with 10% opacity
@background-color-primary--lighter: rgba(204, 51, 51, 0.0625); // @color--primary with 6.25% opacity
@background-color-primary--lightest: rgba(204, 51, 51, 0.0125); // @color--primary with 1.25% opacity

/* 特殊时期，庆祝节日 */
.page-Qiuwen_首页.action-view,
.page-许可百科_首页.action-view {
	&.skin-citizen .mw-body,
	&.skin-gongbi #mw-content,
	&.skin-vector .mw-body {
		background: @background-color-primary--light;

		.client-darkmode & {
			background: @const-color-gray--dark;
		}
	}
}

.mainpage {
	h2 {
		background: @color--primary;
	}

	.mw-ui {
		&-progressive {
			border-color: @color--primary;
			background-color: @color--primary;
		}

		&-input:focus {
			border-color: @color--primary;
			box-shadow: inset 0 0 0 1px @color--primary;
		}

		&-button:not(:disabled):focus {
			border-color: @color--primary;
			box-shadow:
				inset 0 0 0 1px @color--primary,
				inset 0 0 0 2px @const-color-white;
		}
	}

	&-header-box,
	&-box,
	&-footer-box {
		border: 3px solid @background-color-primary--lightest;

		.client-darkmode .mainpage & {
			border: 0;
			background: @background-color-primary--light;
			box-shadow:
				0 1px 2px @background-color-primary--darkest,
				0 -1px 2px @background-color-primary--darkest !important;
		}
	}

	&-header {
		.mainpage-slogan {
			img {
				filter: hue-rotate(141deg);

				.client-darkmode & {
					filter: invert(1) hue-rotate(320deg);
				}
			}
		}
	}
}

/* === Other elements === */
#darkmode-button,
#sidebarButton,
.gadget-advanced_site_notices,
.gadget-cookie_warning,
.gadget-report-button,
.gadget-scroll_up_button {
	filter: hue-rotate(141deg) !important;
}

/* === Skin-specific rules === */

/* For Citizen skin */
html {
	&.citizen-loading::after {
		background:
			linear-gradient(90deg, @color--primary 0%, @color--primary 100%) -10% 0 / 0 2px no-repeat,
			transparent;
		filter: drop-shadow(0 0 16px @color--primary);
	}
}

/* For Gongbi skin */
#mw-header-container {
	border-color: @color--primary;
}

.skin-gongbi.page-Qiuwen_首页.action-view .bodySearch {
	.mw-ui-button,
	.cdx-button {
		filter: hue-rotate(141deg) !important;
	}
}

/* For Gongbi and Vector skins */
#sliderCollapseLogo,
.wordmark {
	img {
		filter: hue-rotate(141deg);
	}
}

/* For Vector skin */
.mw-wiki-logo {
	filter: hue-rotate(141deg);
}

/* For Citizen skin */
.skin-citizen .mw-portlet-personal li a:hover,
.skin-citizen #pt-login a,
.citizen-header__button,
.citizen-drawer__menu a:hover,
.citizen-drawer__header img {
	filter: hue-rotate(141deg) !important;
}
